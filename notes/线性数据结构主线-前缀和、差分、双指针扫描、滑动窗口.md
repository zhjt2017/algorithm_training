# 线性数据结构的主线

## 前缀和

### 一维前缀和

- 一维原数组
- 前缀和数组

### 二维前缀和

- 示例题目：二维区域和检索 - 矩阵不可变
  - leetcode-cn 304

## 差分

- 前缀和的逆运算
- 一维原数组A
- 拆分数组B
- B1=A1, Bi=Ai-A(i-1)
- 拆分数组B的前缀和数组就是原数组A
- 适用场景：批处理：将A的第L到第R个数加d
  - B的变化为：第L+1到第R个数不变，第L个数加d，第R+1个数减d
- 示例题目：航班预定统计
  - leetcode-cn 1109
  - 有n个航班
  - 每条预订记录表示第L到第R个航班，其上每个航班预订多少座位
  - 需要统计每个航班上预订的座位总数
  - 我的想法：差分思想就是对Map+count的算法基于以下2点的特殊性进行的优化算法
    - 1、增量都是相同的
    - 2、应用差分的是一个连续的范围
    - 我意：所谓的优化，也就是尽可能地去除重复性的劳动。
      - 即去除冗余。如果没有冗余，即所有代码步骤都是有意义的，则无法优化
      - 优化的思路：找出冗余在哪里，然后看看用什么思想可以解决

## 双指针扫描

- 用于解决一类基于“子段”的统计问题
- 其都是对朴素算法的两重循环尝试去除内层循环来进行优化

### 优化策略1、固定右端点，看左端点的取值范围

- 例如：左端点的取值范围，作为“前缀和”

### 优化策略2、移动一个端点，看另一个端点的变化情况

- 例如：一个端点跟随另一个端点单调移动，“滑动窗口”
- 考虑：双指针扫描

### 题目案例

- 有序数组的两数之和问题
  - leetcode-cn 167
- 三数之和
  - leetcode-cn 15
  - 现在是三数之和，同样多的元素，需要多枚举一层，故在内部求两数之和的子模块中，对排序后的数组进行双指针扫描的方法整体上优于HashMap的方法，因为总共只需要排序一次

## 滑动窗口

- 案例：盛最多水的容器
  - leetcode-cn 11

## 算法对比

- 为什么求子段和（窗口求和）可以用前缀和？
- 为什么求滑动窗口最大值要用单调队列？
- 遇到字段（窗口）问题，什么时候用前缀和，什么时候用单调队列，什么时候用双指针扫描？
  - 满足区间减法性质，可以用前缀和（即一端不变）
  - 维护的信息是关于一个点的，还是一整个候选集合（多个点）的
    - 前者用双指针扫描
    - 后者用单调队列等高级数据结构

